{
  "name": "kv-dict-devcontainer",
  "dockerComposeFile": "docker-compose.yml",
  "service": "devcontainer",
  "runServices": ["devcontainer", "redis", "nats"],
  "shutdownAction": "stopCompose",
  "remoteUser": "vscode",
  "updateRemoteUserUID": true,
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
  "customizations": {
    "vscode": {
      "settings": {},
      "extensions": [
        "ms-python.python",
        "ms-toolsai.jupyter",
        "charliermarsh.ruff",
        "GitHub.copilot",
        "tamasfe.even-better-toml",
        "redhat.vscode-yaml",
        "ms-azuretools.vscode-containers"
      ]
    },
    "jetbrains": {
      "backend": "PyCharm",
      "settings": {},
      "plugins": [
        "com.koxudaxi.ruff",
        "com.github.copilot",
        "org.toml.lang",
        "org.jetbrains.plugins.yaml"
      ]
    }
  },
  "features": {
    "ghcr.io/devcontainers/features/git:1": {}
  },
  "mounts": [
    "source=${localWorkspaceFolderBasename}-venv,target=${containerWorkspaceFolder}/.venv,type=volume"
  ],
  "postCreateCommand": "sudo chown vscode:vscode .venv && uv sync --all-extras --frozen",
  "containerEnv": {
    "UV_LINK_MODE": "copy" // don't hardlink dependency files
  }
}
